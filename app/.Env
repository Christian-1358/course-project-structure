comando do certifico (admin_tools)

vamos usar esse modelo, eu que quando a pessoa clicar em: Gerrar PDF, ai vai para o pdf que nois tiamos feito 


import sqlite3
import os
import hashlib
import tornado.web
import json
import time
from datetime import datetime

# ------------------ CONFIGURA√á√ÉO DE BANCO ------------------
BASE_DIR = os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))
DB = os.path.join(BASE_DIR, "usuarios.db")

def conectar():
    conn = sqlite3.connect(DB)
    conn.row_factory = sqlite3.Row
    return conn

def hash_senha(text: str) -> str:
    return hashlib.md5(text.encode("utf-8")).hexdigest()

# ------------------ FUN√á√ïES DE APOIO ------------------

def forcar_notas_teste(user_id):
    """Injeta notas 10 e marca m√≥dulos como conclu√≠dos no banco novo"""
    try:
        conn = conectar(); c = conn.cursor()
        uid = int(user_id)
        agora = datetime.now().strftime('%Y-%m-%d %H:%M:%S')
        
        c.execute("DELETE FROM provas_resultado WHERE user_id = ?", (uid,))
        for m in range(1, 6):
            # Corrigido: Incluindo 'aprovado' e 'data' conforme sua constraint
            c.execute("""
                INSERT INTO provas_resultado (user_id, modulo, nota, aprovado, data) 
                VALUES (?, ?, 10.0, 1, ?)
            """, (uid, m, agora))
            
            # Atualiza progresso temporal do aluno
            c.execute(f"UPDATE users SET fim_modulo{m} = ? WHERE id = ?", (agora, uid))
            
        conn.commit(); conn.close()
        return True
    except Exception as e:
        print(f"Erro FULL 10: {e}")
        return False

def listar_usuarios(filtro=""):
    conn = conectar(); c = conn.cursor()
    if filtro:
        f = f"%{filtro}%"
        c.execute("SELECT id, username, email, ativo FROM users WHERE username LIKE ? OR email LIKE ? ORDER BY id DESC", (f, f))
    else:
        c.execute("SELECT id, username, email, ativo FROM users ORDER BY id DESC")
    res = [dict(row) for row in c.fetchall()]; conn.close()
    return res

def listar_notas_geral():
    conn = conectar(); c = conn.cursor()
    try:
        c.execute("""
            SELECT u.username, pr.modulo, pr.nota, pr.data as data_hora 
            FROM provas_resultado pr 
            JOIN users u ON pr.user_id = u.id 
            ORDER BY pr.id DESC LIMIT 50
        """)
        return [dict(row) for row in c.fetchall()]
    except: return []
    finally: conn.close()

def registrar_compra(email, user_id=None, metodo="PIX", amount=29.99, status="approved"):
    try:
        conn = conectar(); c = conn.cursor(); ts = int(time.time())
        c.execute("INSERT INTO purchases (user_id, email, metodo, amount, status, created_at) VALUES (?, ?, ?, ?, ?, ?)",
                  (user_id, email, metodo, amount, status, ts))
        conn.commit(); conn.close()
        return True, "Ok"
    except Exception as e: return False, str(e)

# ------------------ HANDLERS (EXIGIDOS PELO SERVER.PY) ------------------

class LoginDevHandler(tornado.web.RequestHandler):
    def get(self):
        self.render("painel_dev.html", usuarios=listar_usuarios(), notas=listar_notas_geral(), mensagem=None)

class ForcarNotasHandler(tornado.web.RequestHandler):
    def post(self):
        uid = self.get_argument("id")
        if forcar_notas_teste(uid): self.write({"sucesso": True, "mensagem": "üöÄ FULL 10 APLICADO!"})
        else: self.write({"sucesso": False, "mensagem": "Erro de Constraint no Banco"})

class AlterarStatusHandler(tornado.web.RequestHandler):
    def post(self):
        uid = self.get_argument("id"); ativo = self.get_argument("ativo")
        conn = conectar(); conn.execute("UPDATE users SET ativo=? WHERE id=?", (ativo, uid))
        conn.commit(); conn.close()
        self.write({"sucesso": True, "mensagem": "Status alterado!"})

class AlterarSenhaHandler(tornado.web.RequestHandler):
    def post(self):
        uid = self.get_argument("id"); pwd = self.get_argument("senha")
        conn = conectar(); conn.execute("UPDATE users SET password=? WHERE id=?", (hash_senha(pwd), uid))
        conn.commit(); conn.close()
        self.write({"sucesso": True, "mensagem": "Senha alterada!"})

class ResetarSenhaHandler(tornado.web.RequestHandler):
    def post(self):
        uid = self.get_argument("id")
        conn = conectar(); conn.execute("UPDATE users SET password=? WHERE id=?", (hash_senha("123456"), uid))
        conn.commit(); conn.close()
        self.write({"sucesso": True, "mensagem": "Senha resetada para 123456"})

class DeletarUsuarioHandler(tornado.web.RequestHandler):
    def post(self):
        uid = self.get_argument("id")
        conn = conectar(); conn.execute("DELETE FROM users WHERE id=?", (uid,))
        conn.execute("DELETE FROM provas_resultado WHERE user_id=?", (uid,))
        conn.commit(); conn.close()
        self.write({"sucesso": True, "mensagem": "Usu√°rio removido!"})

class BuscarUsuarioHandler(tornado.web.RequestHandler):
    def get(self):
        f = self.get_argument("filtro", "")
        self.render("painel_dev.html", usuarios=listar_usuarios(f), notas=listar_notas_geral(), mensagem=f"Busca: {f}")

class ComprasHandler(tornado.web.RequestHandler):
    def get(self):
        conn = conectar(); c = conn.cursor(); c.execute("SELECT * FROM purchases ORDER BY id DESC")
        vendas = [dict(row) for row in c.fetchall()]; conn.close()
        self.write({"purchases": vendas})

class GerarCertificadoHandler(tornado.web.RequestHandler):
    def get(self):
        # Pega o ID do usu√°rio da sess√£o (cookie seguro)
        user_id = self.get_secure_cookie("user_id")
        if not user_id:
            self.redirect("/login")
            return
            
        conn = conectar()
        c = conn.cursor()
        # Busca o nome real ou username do aluno
        c.execute("SELECT username, nome FROM users WHERE id = ?", (int(user_id),))
        user = c.fetchone()
        conn.close()

        if user:
            nome_aluno = user['nome'] if user['nome'] else user['username']
            self.render("certificado_final.html", nome=nome_aluno.upper())
        else:
            self.redirect("/login")
# Fun√ß√µes de inicializa√ß√£o vazias (chamadas pelo server.py)
def criar_tabela(): pass
def criar_usuario_admin_se_nao_existe(): pass




























login? 



import tornado.web
import tornado.auth
import sqlite3
import hashlib
import uuid
import os

BASE_DIR = os.path.dirname(
    os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
)
DB = os.path.join(BASE_DIR, "usuarios.db")


def conectar():
    conn = sqlite3.connect(DB)
    conn.row_factory = sqlite3.Row
    return conn


def hash_senha(text: str) -> str:
    return hashlib.sha256(text.encode("utf-8")).hexdigest()


class LoginHandler(tornado.web.RequestHandler):
    def get(self):
        self.render(
            "login.html",
            erro=None,
            mensagem=None,
            usuario_prefill=""
        )

    def post(self):
        username = self.get_argument("username", "").strip()
        password = self.get_argument("password", "").strip()

        if not username or not password:
            self.render(
                "login.html",
                erro="Preencha todos os campos",
                mensagem=None,
                usuario_prefill=username
            )
            return

        senha_hash = hash_senha(password)

        conn = conectar()
        c = conn.cursor()
        c.execute("""
            SELECT id, username
            FROM users
            WHERE username=? AND password=? AND ativo=1
        """, (username, senha_hash))

        user = c.fetchone()
        conn.close()

        if not user:
            self.render(
                "login.html",
                erro="Usu√°rio inv√°lido ou bloqueado",
                mensagem=None,
                usuario_prefill=username
            )
            return

        self.set_secure_cookie("user", user["username"])
        self.set_secure_cookie("user_id", str(user["id"]))
        self.redirect("/curso")



class GoogleLoginHandler(
    tornado.web.RequestHandler,
    tornado.auth.GoogleOAuth2Mixin
):
    async def get(self):
        if self.get_argument("code", False):

            token = await self.get_authenticated_user(
                redirect_uri="http://localhost:8080/auth/google",
                code=self.get_argument("code")
            )

            if not token:
                self.redirect("/login")
                return

            user_info = await self.oauth2_request(
                "https://www.googleapis.com/oauth2/v2/userinfo",
                access_token=token["access_token"]
            )

            email = user_info.get("email")
            nome = user_info.get("name", "")

            if not email:
                self.write("Erro: Google n√£o retornou e-mail")
                return

            username = email.split("@")[0]

            conn = conectar()
            c = conn.cursor()

            c.execute("SELECT id, ativo FROM users WHERE email=?", (email,))
            row = c.fetchone()

            if not row:
                senha_fake = hash_senha(str(uuid.uuid4()))
                c.execute("""
                    INSERT INTO users (username, password, email, ativo)
                    VALUES (?, ?, ?, 1)
                """, (username, senha_fake, email))
                user_id = c.lastrowid
            else:
                if row["ativo"] == 0:
                    conn.close()
                    self.write("Conta bloqueada pelo administrador.")
                    return
                user_id = row["id"]

            conn.commit()
            conn.close()

            self.set_secure_cookie("user", username)
            self.set_secure_cookie("user_id", str(user_id))
            self.redirect("/curso")

        else:
            self.authorize_redirect(
                redirect_uri="http://localhost:8080/auth/google",
                client_id=self.settings["google_oauth"]["key"],
                scope=["openid", "email", "profile"],
                response_type="code",
                extra_params={"prompt": "select_account"}
            )


class LogoutHandler(tornado.web.RequestHandler):
    def get(self):
        self.clear_cookie("user")
        self.clear_cookie("user_id")
        self.redirect("/login")























<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mestre das Milhas | Elite Certification</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0a0b0d; --panel: #161b22; --sidebar: #0d1117; --text: #e6edf3;
            --text-muted: #8b949e; --accent: #a855f7; --border: #30363d; --success: #238636;
        }
        * { box-sizing: border-box; transition: all 0.2s ease; }
        body { margin: 0; font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        header { height: 60px; display: flex; align-items: center; justify-content: space-between; padding: 0 24px; background: var(--sidebar); border-bottom: 1px solid var(--border); z-index: 100; }
        .logo { font-weight: 800; font-size: 1.1rem; }
        .logo span { color: var(--accent); }

        main { display: flex; flex: 1; overflow: hidden; position: relative; }

        .content-area { flex: 1; overflow-y: auto; background: var(--bg); }
        .video-container { width: 100%; background: #000; aspect-ratio: 16/9; position: relative; }
        .video-container iframe { width: 100%; height: 100%; border: none; }
        
        .toggle-sidebar-btn { position: absolute; right: 0; top: 50%; transform: translateY(-50%); background: var(--accent); color: white; border: none; padding: 15px 8px; cursor: pointer; border-radius: 8px 0 0 8px; z-index: 50; }

        .lesson-body { padding: 30px 40px; max-width: 1000px; }
        .nav-controls { display: flex; align-items: center; gap: 15px; margin: 25px 0; }
        
        /* SIDEBAR */
        .sidebar { width: 380px; background: var(--sidebar); border-left: 1px solid var(--border); display: flex; flex-direction: column; }
        .sidebar.closed { width: 0; overflow: hidden; border-left: none; }
        
        .modules-wrapper { flex: 1; overflow-y: auto; }
        .module-item { border-bottom: 1px solid var(--border); }
        .module-btn { width: 100%; padding: 16px 20px; background: var(--panel); border: none; color: var(--text); display: flex; justify-content: space-between; cursor: pointer; font-size: 14px; font-weight: 600; text-align: left; }
        .lessons-list { display: none; }
        .module-item.open .lessons-list { display: block; }

        .lesson-item { padding: 15px 20px; display: flex; gap: 12px; cursor: pointer; font-size: 13px; border-bottom: 1px solid var(--border); align-items: center; }
        .lesson-item.active { background: #21262d; border-left: 4px solid var(--accent); }
        .lesson-item.completed span { color: var(--text-muted); text-decoration: line-through; }
        .lesson-item.is-quiz { background: rgba(168, 85, 247, 0.1); color: var(--accent); font-weight: 600; }

        .final-exam-area { padding: 20px; background: var(--panel); border-top: 2px solid var(--accent); }

        /* MODAL */
        .modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 95%; max-width: 600px; background: var(--panel); border: 1px solid var(--border); border-radius: 12px; padding: 30px; z-index: 1000; }
        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 999; }
        .quiz-option { width: 100%; text-align: left; padding: 12px; margin-bottom: 8px; border: 1px solid var(--border); border-radius: 6px; background: var(--bg); color: var(--text); cursor: pointer; }

        button { padding: 10px 18px; border-radius: 6px; cursor: pointer; border: 1px solid var(--border); background: var(--panel); color: var(--text); font-weight: 600; }
        .btn-accent { background: var(--accent); color: white; border: none; }
    </style>
</head>
<body>

<header>
    <div class="logo">‚úàÔ∏è MESTRE DAS <span>MILHAS</span></div>
    <div id="prog-txt" style="font-size: 12px; background: var(--panel); padding: 5px 15px; border-radius: 20px; border: 1px solid var(--border);">0% Conclu√≠do</div>
</header>

<main>
    <div class="content-area">
        <div class="video-container" id="videoContainer">
            <iframe id="mainPlayer" src="" allow="autoplay; fullscreen"></iframe>
            <button class="toggle-sidebar-btn" onclick="toggleSidebar()">‚ùÆ</button>
        </div>
        
        <div class="lesson-body" id="lessonBody">
            <h2 id="currentTitle">Bem-vindo √† Forma√ß√£o</h2>
            <div class="nav-controls">
                <button onclick="changeLesson(-1)" style="margin-left:auto">Anterior</button>
                <button class="btn-accent" onclick="changeLesson(1)">Pr√≥xima Aula</button>
            </div>
            <p id="currentDesc" style="color: var(--text-muted); line-height: 1.6;"></p>
        </div>
    </div>

    <div class="sidebar" id="sidebar">
        <div class="modules-wrapper" id="moduleContainer"></div>
        <div class="final-exam-area" id="finalExamZone">
            <button class="btn-accent" style="width:100%" onclick="startFinalExam()" id="finalBtn" disabled>üéì ATIVIDADE FINAL (BLOQUEADA)</button>
        </div>
    </div>
</main>

<div class="overlay" id="overlay"></div>
<div class="modal" id="examModal">
    <h2 id="examTitle">Prova</h2>
    <div id="quizBox"></div>
    <div id="quizResult" style="display:none; text-align:center;">
        <h3 id="resultTitle"></h3>
        <button onclick="closeExam()" style="width:100%">Voltar ao Curso</button>
    </div>
</div>

<script>
    const course = [
        { name: "1. Fundamentos e CPM", lessons: [
            {t: "Abertura", d: "Roadmap.", v: "3r6Q9tCzX4k"},
            {t: "O Milheiro", d: "Conceito.", v: "8pTEmbeENF4"},
            {t: "Matem√°tica CPM", d: "C√°lculos.", v: "Z9z8Z2f3nGQ"},
            {t: "Bancos", d: "Livelo/Esfera.", v: "yJz8QyYw7l8"},
            {t: "A√©reas", d: "Programas.", v: "p7HKvqRI_Bo"},
            {t: "Alertas", d: "Radar.", v: "dZ9gY8JwqfE"},
            {t: "In√≠cio", d: "Estrat√©gia.", v: "5Y3G6a2Z8sU"}
        ], exam: { q: "O que √© CPM?", opt: ["Custo Por Milheiro", "Cr√©dito Por M√™s"], correct: 0 }},
        { name: "2. Cart√µes e Salas VIP", lessons: [
            {t: "Carteira", d: "Escolha.", v: "Qv2L8g1m3kM"},
            {t: "Anuidade", d: "Isen√ß√£o.", v: "7J9x8w3QX2M"},
            {t: "Salas VIP", d: "Guia.", v: "1b9QX5M0H8I"},
            {t: "Seguros", d: "Benef√≠cios.", v: "L8z1p9Y0QH4"},
            {t: "Cooperativas", d: "Secretos.", v: "C8QZ3y9mF4s"},
            {t: "Upgrade", d: "Black.", v: "9X3ZLkQ8P2s"},
            {t: "Spread 0", d: "Economia.", v: "M8LZ9Q2KX1A"},
            {t: "Prote√ß√µes", d: "Visa.", v: "wZ8L9Ck3m0E"}
        ], exam: { q: "LoungeKey √© rede de?", opt: ["Salas VIP", "Hot√©is"], correct: 0 }},
        { name: "3. Ac√∫mulo 10x1", lessons: [
            {t: "Bonificadas", d: "10x1.", v: "P9Zk3L8QX4s"},
            {t: "Carrinho", d: "Compra.", v: "Q9ZL2X8M3F4"},
            {t: "100% B√¥nus", d: "Dobra.", v: "dZ9gY8JwqfE"},
            {t: "Clubes", d: "ROI.", v: "3r6Q9tCzX4k"},
            {t: "Postos", d: "Shell.", v: "8pTEmbeENF4"},
            {t: "Amazon/Magalu", d: "Varejo.", v: "Z9z8Z2f3nGQ"},
            {t: "CPFs", d: "Gest√£o.", v: "yJz8QyYw7l8"},
            {t: "Black Friday", d: "Datas.", v: "p7HKvqRI_Bo"},
            {t: "Boletos", d: "Giro.", v: "dZ9gY8JwqfE"}
        ], exam: { q: "B√¥nus de 100% significa?", opt: ["Dobrar pontos", "Perder pontos"], correct: 0 }},
        { name: "4. Emiss√µes", lessons: [
            {t: "Tabela Fixa", d: "Ouro.", v: "5Y3G6a2Z8sU"},
            {t: "Executiva", d: "Luxo.", v: "Qv2L8g1m3kM"},
            {t: "Stopover", d: "Conex√£o.", v: "7J9x8w3QX2M"},
            {t: "Iberia", d: "Europa.", v: "1b9QX5M0H8I"},
            {t: "Limites Latam", d: "Seguran√ßa.", v: "L8z1p9Y0QH4"},
            {t: "Rotas EUA", d: "Smiles.", v: "C8QZ3y9mF4s"},
            {t: "Taxas", d: "Combust√≠vel.", v: "9X3ZLkQ8P2s"},
            {t: "Hot√©is", d: "Resgate.", v: "M8LZ9Q2KX1A"}
        ], exam: { q: "Stopover √© parada gratuita?", opt: ["Sim", "N√£o"], correct: 0 }},
        { name: "5. Neg√≥cio", lessons: [
            {t: "Plataformas", d: "Venda.", v: "wZ8L9Ck3m0E"},
            {t: "Particular", d: "Lucro.", v: "P9Zk3L8QX4s"},
            {t: "Controle", d: "Planilha.", v: "Q9ZL2X8M3F4"},
            {t: "Imposto", d: "Le√£o.", v: "dZ9gY8JwqfE"},
            {t: "Ag√™ncia", d: "Abrir.", v: "3r6Q9tCzX4k"},
            {t: "Caixa", d: "Fluxo.", v: "8pTEmbeENF4"},
            {t: "Futuro", d: "2026.", v: "Z9z8Z2f3nGQ"},
            {t: "D√∫vidas", d: "Live.", v: "yJz8QyYw7l8"}
        ], exam: { q: "Lucro maior √© na?", opt: ["Venda Direta", "Plataforma"], correct: 0 }}
    ];

    let current = { m: 0, l: 0 };
    let completed = JSON.parse(localStorage.getItem('mm_v8_c')) || [];
    let passed = JSON.parse(localStorage.getItem('mm_v8_p')) || [];

    function init() {
        const container = document.getElementById('moduleContainer');
        course.forEach((mod, mIdx) => {
            const div = document.createElement('div');
            div.className = `module-item ${mIdx === 0 ? 'open' : ''}`;
            const lessonsHTML = mod.lessons.map((les, lIdx) => `
                <div class="lesson-item ${completed.includes(les.v) ? 'completed' : ''}" id="les-${les.v}" onclick="play(${mIdx}, ${lIdx})">
                    <input type="checkbox" ${completed.includes(les.v) ? 'checked' : ''} onclick="event.stopPropagation(); toggle('${les.v}')">
                    <span>${lIdx+1}. ${les.t}</span>
                </div>`).join('');
            
            div.innerHTML = `
                <button class="module-btn" onclick="this.parentElement.classList.toggle('open')">${mod.name} <span>‚ñº</span></button>
                <div class="lessons-list">
                    ${lessonsHTML}
                    <div class="lesson-item is-quiz" onclick="openExam(${mIdx})">
                        <span>üìù PROVA: ${mod.name.toUpperCase()}</span>
                    </div>
                </div>`;
            container.appendChild(div);
        });
        play(0,0); updateProg();
    }

    function play(m, l) {
        current = { m, l };
        const les = course[m].lessons[l];
        document.getElementById('mainPlayer').src = `https://www.youtube.com/embed/${les.v}?autoplay=1`;
        document.getElementById('currentTitle').innerText = les.t;
        document.getElementById('currentDesc').innerText = les.d;
        document.querySelectorAll('.lesson-item').forEach(e => e.classList.remove('active'));
        document.getElementById(`les-${les.v}`).classList.add('active');
    }

    function toggle(id) {
        completed.includes(id) ? completed = completed.filter(i => i !== id) : completed.push(id);
        localStorage.setItem('mm_v8_c', JSON.stringify(completed));
        document.getElementById(`les-${id}`).classList.toggle('completed');
        updateProg();
    }

    function updateProg() {
        const total = course.reduce((acc, m) => acc + m.lessons.length, 0);
        const p = Math.round((completed.length / total) * 100);
        document.getElementById('prog-txt').innerText = `${p}% Conclu√≠do`;
        const btnFinal = document.getElementById('finalBtn');
        if(p === 100 && passed.length === 5) {
            btnFinal.disabled = false;
            btnFinal.innerText = "üéì INICIAR ATIVIDADE FINAL";
        }
    }

    function openExam(mIdx) {
        const mod = course[mIdx];
        const allLessonsDone = mod.lessons.every(l => completed.includes(l.v));
        if(!allLessonsDone) return alert("Voc√™ precisa completar todas as aulas deste m√≥dulo primeiro!");
        
        document.getElementById('examModal').style.display = 'block';
        document.getElementById('overlay').style.display = 'block';
        document.getElementById('examTitle').innerText = `Atividade: ${mod.name}`;
        document.getElementById('quizBox').innerHTML = `
            <p>${mod.exam.q}</p>
            ${mod.exam.opt.map((o, i) => `<button class="quiz-option" onclick="check(${mIdx}, ${i})">${o}</button>`).join('')}
        `;
    }

    function check(mIdx, idx) {
        const isCorrect = idx === course[mIdx].exam.correct;
        document.getElementById('quizBox').style.display = 'none';
        document.getElementById('quizResult').style.display = 'block';
        document.getElementById('resultTitle').innerText = isCorrect ? "Correto! M√≥dulo vencido." : "Incorreto. Revise as aulas.";
        if(isCorrect && !passed.includes(mIdx)) {
            passed.push(mIdx);
            localStorage.setItem('mm_v8_p', JSON.stringify(passed));
        }
        updateProg();
    }

    function closeExam() {
        document.getElementById('examModal').style.display = 'none';
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('quizBox').style.display = 'block';
        document.getElementById('quizResult').style.display = 'none';
    }

    function startFinalExam() {
        alert("Iniciando Atividade Final de Certifica√ß√£o...");
    }

    function toggleSidebar() {
        const sb = document.getElementById('sidebar');
        sb.classList.toggle('closed');
        document.querySelector('.toggle-sidebar-btn').innerText = sb.classList.contains('closed') ? '‚ùØ' : '‚ùÆ';
    }

    function changeLesson(s) {
        let n = current.l + s;
        if(course[current.m].lessons[n]) play(current.m, n);
    }

    init();
</script>
</body>
</html>